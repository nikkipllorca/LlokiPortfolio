<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Recursive Task Breakdown</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <header>
    <h1>Recursive Task Breakdown</h1>
    <div class="spacer"></div>
    <div class="toolbar">
      <button id="newRoot" class="primary" title="Start fresh root task">‚ûï New</button>

      <label class="button toggle" title="Toggle completed visibility">
        <input type="checkbox" id="toggleCompleted" checked /> Show Done
      </label>

      <label class="button toggle" title="Switch theme light/dark">
        <input type="checkbox" id="toggleTheme" /> Light
      </label>

      <button id="screenshot" title="Open a live preview you can screenshot">üëÄ Preview</button>
      <button id="clearAll" class="danger" title="Erase everything">üóëÔ∏è Clear</button>
    </div>
  </header>

  <main id="app" aria-live="polite" aria-busy="false"></main>

  <footer>
    <a href="/">Home</a>
    <a href="/about.html">About</a>
  </footer>

  <!-- Clear confirm -->
  <dialog id="confirmClear">
    <h3>Clear all tasks?</h3>
    <p>This will remove all tasks from this device. You cannot undo this.</p>
    <div class="confirm-actions">
      <button id="cancelClear" class="mini">‚úñ Cancel</button>
      <button id="okClear" class="danger mini">Delete</button>
    </div>
  </dialog>

  <!-- Edit/Create form -->
  <dialog id="taskForm">
    <form method="dialog" class="task-form" id="taskFormEl">
      <div class="row">
        <label for="tf_title">Title</label>
        <input type="text" id="tf_title" required placeholder="e.g., Research APIs" />
      </div>
      <div class="row">
        <label for="tf_desc">Description</label>
        <textarea id="tf_desc" placeholder="Add helpful notes..."></textarea>
      </div>
      <div class="ranges">
        <div class="row">
          <label for="tf_diff">Difficulty: <span id="tf_diff_val">3</span></label>
          <input type="range" id="tf_diff" min="1" max="5" value="3" />
        </div>
        <div class="row">
          <label for="tf_pri">Priority: <span id="tf_pri_val">1</span></label>
          <input type="range" id="tf_pri" min="1" max="1" value="1" />
        </div>
      </div>
      <div class="confirm-bar">
        <div class="confirm-actions">
          <button value="cancel" class="mini">‚úñ Cancel</button>
          <button value="ok" class="mini primary">‚úÖ Save</button>
        </div>
      </div>
    </form>
  </dialog>

  <!-- Screenshot Preview -->
  <dialog id="shotPreview">
    <div class="preview-head">
      <h3>Screenshot Preview</h3>
      <button id="closePreview" class="mini">Close</button>
    </div>
    <p class="preview-tip">Tip: On mobile, long-press the image to save or just take a system screenshot.</p>
    <div id="previewBody" class="preview-body"></div>
  </dialog>

  <script src="./script.js"></script>
</body>
</html>

